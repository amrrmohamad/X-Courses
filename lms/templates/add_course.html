{% extends 'base.html' %}
{% load crispy_forms_tags %}


{% block title %}Add Course{% endblock %}
{% block content %}
{% load static %}
<br>
<div class="row justify-content-center" style="margin-left: 130px; width: 800px;">
    <div class="col-md-6">
        <h2 style="color: rgb(54, 2, 102);">- Add Course</h2>
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form|crispy }}
            <div class="form-group">
                <label for="id_video">Upload Course Video:</label>
                <input type="file" name="video" id="id_video" class="form-control">
            </div>
            <button type="submit" class="btn btn-success mt-2">Add Course</button>
        </form>
        <p class="mt-3">
            <a href="{% url 'dashboard' %}">
                <button type="button" class="btn btn-success mt-2">Back</button>
            </a>
        </p>
    </div>
</div>

<script>
    function previewVideo(input) {
        const videoPreview = document.getElementById('video_preview');
        if (input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = function (e) {
                videoPreview.src = e.target.result;
                videoPreview.style.display = 'block';
            };
            reader.readAsDataURL(input.files[0]);
        }
    }
</script>

{% endblock %}
